@layout EmptyLayout
@page "/register"
@using PMS.UI.StaticDetails

@* <h3>Register</h3> *@

@if (!string.IsNullOrEmpty(Message))
{
    <div class="alert alert-danger">
        @Message
    </div>
}
<CustomHeader />


@* <div class="form-container">
    <EditForm Model="@RegisterVM" OnValidSubmit="OnValidSubmit">
        <div class="form-content">
            <DataAnnotationsValidator />
            <MudGrid>
                <MudItem xs="12" sm="12">
                    <MudCard>
                        <MudCardContent>
                            <MudTextField Label="First Name" HelperText="Max. 8 characters" @bind-Value="RegisterVM.FirstName" />
                            <MudTextField Label="Last Name" Class="mt-3" @bind-Value="RegisterVM.LastName" />
                            <MudTextField Label="Email" Class="mt-3" @bind-Value="RegisterVM.Email" @onblur="CheckEmailExistence" />
                            @if (EmailExists && !string.IsNullOrEmpty(RegisterVM.Email))
                            {
                                <div class="text-danger">Email already exists.</div>
                            }
                            <MudTextField Label="Phone Number" Class="mt-3" @bind-Value="RegisterVM.PhoneNumber" />
                            <MudItem xs="6">
                                <MudText Typo="Typo.subtitle1">Gender</MudText>
                                <MudRadioGroup T="string" @bind-Value="RegisterVM.Gender">
                                    <MudRadio Value="YourGender.Male">Male</MudRadio>
                                    <MudRadio Value="YourGender.Female">Female</MudRadio>
                                </MudRadioGroup>
                            </MudItem>
                            <MudDatePicker Color="Color.Secondary" @bind-Date="RegisterVM.DateOfBirth" Rounded="true" />
                            <MudTextField Label="Password" HelperText="Choose a strong password" Class="mt-3" @bind-Value="RegisterVM.Password" InputType="InputType.Password" />
                            <MudTextField Label="Repeat Password" HelperText="Repeat the password" Class="mt-3" @bind-Value="RegisterVM.ConfirmPassword" InputType="InputType.Password" />
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton ButtonType="ButtonType.Submit" FullWidth="true" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto">Register</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </div>
    </EditForm>
</div> *@

<EditForm Model="@RegisterVM" OnValidSubmit="OnValidSubmit">
    <MudGrid>
        <MudItem xs="12">
            <div class="d-flex justify-center">
                @* <MudIcon Icon="@CustomIcons.BlazorHero" Color="Color.Primary" Size="Size.Large" ViewBox="0 0 500 500" Style="width: 100px; height: 100px;" /> *@
            </div>
        </MudItem>
        <MudItem xs="12">
            <div class="d-flex justify-center">
                <MudText Typo="Typo.h4"></MudText>
            </div>
        </MudItem>
        <MudItem  xs="12">
            <div class="d-flex justify-center">
                <MudText><MudLink Href="/login"></MudLink></MudText>
            </div>
        </MudItem>
        <MudItem  xs="12">
            <MudTextField For="@(() => RegisterVM.FirstName)" @bind-Value="RegisterVM.FirstName" Label="First Name" />
        </MudItem>
        <MudItem  xs="12" sm="6" md="6">
            <MudTextField For="@(() => RegisterVM.LastName)" @bind-Value="RegisterVM.LastName" Label="Last Name" />
        </MudItem>
        @* <MudItem  xs="12" sm="6" md="6">
            <MudTextField For="@(() => RegisterVM.Email)" @bind-Value="RegisterVM.Email" Label="@_localizer["Last Name"]"  />
            
        </MudItem> *@
        <MudItem  xs="12" sm="6" md="6">
            <MudTextField T="string" Label="E-mail" @bind-Value="RegisterVM.Email" For="@(() => RegisterVM.Email)" @onblur="CheckEmailExistence" />
            @if (EmailExists && !string.IsNullOrEmpty(RegisterVM.Email))
            {
                <div class="text-danger">Email already exists.</div>
            }
        </MudItem>
        <MudItem  xs="12" sm="6" md="6">
            <MudTextField T="string" Label="Phone Number" @bind-Value="RegisterVM.PhoneNumber" For="@(() => RegisterVM.PhoneNumber)" />
        </MudItem>
        <MudItem  xs="12" sm="6" md="6">
            <MudTextField For="@(() => RegisterVM.Password)" InputType="@_passwordInput" Adornment="Adornment.End" AdornmentIcon="@_passwordInputIcon" OnAdornmentClick="TogglePasswordVisibility" @bind-Value="RegisterVM.Password" Label="Password" />
        </MudItem>
        <MudItem  xs="12" sm="6" md="6">
            <MudTextField For="@(() => RegisterVM.ConfirmPassword)" InputType="InputType.Password" @bind-Value="RegisterVM.ConfirmPassword" Label="Confirm Password" />
        </MudItem>
        @* <MudItem  xs="12" Class="d-flex justify-center">
            <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Disabled="@(!Validated)" Color="Color.Primary" Size="Size.Large" Style="width: 100%;">@_localizer["Register"]</MudButton>
        </MudItem> *@
    </MudGrid>
</EditForm>




<Footer />